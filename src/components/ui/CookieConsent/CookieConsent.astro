---
const { currentLang = "en" } = Astro.props as { currentLang?: string };
---

<!-- Import vanilla-cookieconsent CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/orestbida/cookieconsent@3.0.1/dist/cookieconsent.css">

<div id="cookie-consent-root" data-lang={currentLang}></div>

<script>
  import { initCookieConsent } from "./cookie-consent.client";

  if (!window.__cookieConsentLoader) {
    window.__cookieConsentLoader = true;
    const root = document.getElementById("cookie-consent-root");
    const currentLang = root?.dataset.lang || "en";
    initCookieConsent({ currentLang });
  }
</script>
