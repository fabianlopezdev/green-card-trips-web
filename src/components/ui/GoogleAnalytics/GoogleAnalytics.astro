---
const { trackingId } = Astro.props as { trackingId?: string };
if (!trackingId) {
  return null;
}
---

<div id="ga-root" data-tracking-id={trackingId} style="display:none"></div>

<script>
  import { initGoogleAnalytics } from "./ga.client";

  const root = document.getElementById("ga-root");
  const trackingId = root?.dataset.trackingId;
  if (trackingId) {
    initGoogleAnalytics(trackingId);
  }
</script>
