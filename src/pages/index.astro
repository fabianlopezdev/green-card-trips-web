---
import Layout from "Layout.astro"
import defaultTemplateConfig from "utils/config"
import { generateFAQPageSchema } from "utils/structuredData"
import InitScripts from "../components/initScripts"
import Navbar from "../components/navbar"
import Header from "../modules/home/_components/header"
import Partners from "../modules/home/_components/partners"
import Features from "../modules/home/_components/features"
import HowItWorks from "../modules/home/_components/howItWorks"
import Pricing from "../modules/home/_components/pricing"
import Testimonials from "../modules/home/_components/testimonials"
import Faq from "../modules/home/_components/faq"
import AppBanner from "../components/appBanner"
import Footer from "../components/footer"
import enTranslations from "../i18n/locales/en.json"

// English legal page URLs (at root level)
const legalUrls = {
  termsAndConditions: '/terms-and-conditions',
  privacyPolicy: '/privacy-policy',
  cookiesPolicy: '/cookies-policy',
};

// Generate FAQPage schema with actual FAQ content from translations
const faqs = [
  { question: enTranslations.faq.q1.question, answer: enTranslations.faq.q1.answer },
  { question: enTranslations.faq.q2.question, answer: enTranslations.faq.q2.answer },
  { question: enTranslations.faq.q3.question, answer: enTranslations.faq.q3.answer },
  { question: enTranslations.faq.q4.question, answer: enTranslations.faq.q4.answer },
  { question: enTranslations.faq.q5.question, answer: enTranslations.faq.q5.answer },
];
const faqSchema = generateFAQPageSchema(faqs);
---

<Layout {...defaultTemplateConfig}>
  <!-- FAQPage Structured Data -->
  <script type="application/ld+json" set:html={JSON.stringify(faqSchema)} slot="head" />

  <InitScripts client:load />
  <header>
    <Navbar client:load config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
  </header>
  <main id="main">
    <Header client:load config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Partners client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Features client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <HowItWorks client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Pricing client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Testimonials client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Faq client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <AppBanner client:visible config={defaultTemplateConfig} translations={enTranslations} currentLang="en" />
    <Footer client:idle config={defaultTemplateConfig} translations={enTranslations} currentLang="en" legalUrls={legalUrls} />
  </main>
</Layout>
