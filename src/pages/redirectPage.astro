---
import BaseLayout from "@layouts/BaseLayout.astro";
import defaultTemplateConfig from "@utils/config";
import redirectModuleUrl from "@modules/app/redirect.client.ts?url";

const redirectScript = `import("${redirectModuleUrl}").then((module) => module.redirectToStore?.(${JSON.stringify({
  appStoreLink: defaultTemplateConfig.appStoreLink,
  googlePlayLink: defaultTemplateConfig.googlePlayLink,
})}));`;
---

<BaseLayout {...defaultTemplateConfig} showHeader={false} showFooter={false}>
  <main class="flex h-screen w-screen flex-col items-center justify-center gap-4">
    <span class="loading loading-dots w-16" aria-hidden="true"></span>
    <h2 class="max-w-xs text-center md:max-w-md">
      We’re sending you to our app. If nothing happens, you’ll be redirected shortly.
    </h2>
  </main>
  <script is:inline type="module" set:html={redirectScript} />
</BaseLayout>
